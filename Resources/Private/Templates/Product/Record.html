{namespace h=Tx_Hype_ViewHelpers}

<f:layout name="Product" />

<f:section name="content">
	<f:if condition="{product}">
		<f:then>

			<!-- Product details -->
			<f:render partial="Product/Record/Product/{product.type->h:format.string(options: {0: 'ucfirst'})}.html" arguments="{product: product, settings: settings}"/>

			<!-- functions -->
			<p class="actions">
				<f:if condition="{settings.common.feature.cart}">
				<f:if condition="{settings.view.cart.pid}">
					<f:link.action pluginName="Cart" controller="Cart" action="add" arguments="{product: product}" pageUid="{settings.view.cart.pid}" class="cart">{f:translate(key: 'product.record.put_into_cart', arguments: {0: product.title})}</f:link.action><br />
				</f:if>
				</f:if>

				<f:if condition="{settings.common.feature.watchlist}">
				<f:if condition="{settings.view.watchlist.pid}">
					<f:link.action pluginName="Watchlist" controller="Watchlist" action="add" arguments="{product: product}" pageUid="{settings.view.watchlist.pid}" class="watchlist">{f:translate(key: 'product.record.put_onto_watchlist', arguments: {0: product.title})}</f:link.action>
				</f:if>
				</f:if>
			</p>
		</f:then>

		<f:else>
			<p>{f:translate(key: 'product.record.product_not_found')}</p>
		</f:else>
	</f:if>
</f:section>