includeLibs.tx_hypestore_menu = EXT:hype_store/Classes/Hook/class.tx_hypestore_menu.php

config.tx_extbase {
	persistence {
		classes {
			Tx_HypeStore_Domain_Model_Customer {
				mapping {
					tableName = fe_users
					
					columns {
						tx_hypestore_domain_model_addresses.mapOnProperty = addresses
						tx_hypestore_domain_model_cart_items.mapOnProperty = cartItems
						tx_hypestore_domain_model_orders.mapOnProperty = orders
					}
				}
				
				columns {
					cart_items.foreignClass = Tx_HypeStore_Domain_Model_CartItem
				}
			}
			
			Tx_HypeStore_Domain_Model_CustomerAddress {
				mapping {
					tableName = tx_hypestore_domain_model_customer_address
				}
			}
			
			Tx_HypeStore_Domain_Model_Product {
				columns {
					attributes.foreignClass = Tx_HypeStore_Domain_Model_ProductAttribute
					scaled_prices.foreignClass = Tx_HypeStore_Domain_Model_ProductPrice
				}
			}
			
			Tx_HypeStore_Domain_Model_ProductPrice {
				mapping {
					tableName = tx_hypestore_domain_model_product_price
				}
			}
			
			Tx_HypeStore_Domain_Model_ProductAttribute {
				mapping {
					tableName = tx_hypestore_domain_model_product_attribute
				}
			}
			
			Tx_HypeStore_Domain_Model_ProductStock {
				mapping {
					tableName = tx_hypestore_domain_model_product_stock
				}
			}
			
			Tx_HypeStore_Domain_Model_ProductState {
				mapping {
					tableName = tx_hypestore_domain_model_product_state
				}
			}
			
			Tx_HypeStore_Domain_Model_Depot {
				mapping {
					tableName = tx_hypestore_domain_model_depot
				}
			}
			
			Tx_HypeStore_Domain_Model_CartItem {
				mapping {
					tableName = tx_hypestore_domain_model_cart_item
				}
			}
			
			Tx_HypeStore_Domain_Model_Order {
				mapping {
					tableName = tx_hypestore_domain_model_order
				}
			}
			
			Tx_HypeStore_Domain_Model_Manufacturer {
				mapping {
					tableName = tx_hypestore_domain_model_manufacturer
				}
			}
		}
	}
}

plugin.tx_hypestore {
	persistence {
		storagePid = 
	}
	
	settings {
		
		common {
			navigation {
				expAll = {$plugin.tx_hypestore.settings.common.navigation.expAll}
			}
			
			currency {
				code = {$plugin.tx_hypestore.settings.common.currency.code}
				sign = {$plugin.tx_hypestore.settings.common.currency.sign}
				name = {$plugin.tx_hypestore.settings.common.currency.name}
			}
			
			feature {
				cart = {$plugin.tx_hypestore.settings.common.feature.cart}
				checkout = {$plugin.tx_hypestore.settings.common.feature.checkout}
			}
		}
		
		object {
			category {
				
				field {
					images {
						path = {$plugin.tx_hypestore.settings.object.category.field.images.path}
					}
				}
			}
			
			product {
				
				field {
					images {
						path = {$plugin.tx_hypestore.settings.object.product.field.images.path}
					}
					
					files {
						path = {$plugin.tx_hypestore.settings.object.product.field.files.path}
					}
				}
			}
		}
		
		view {
			category {
				pid = {$plugin.tx_hypestore.settings.view.category.pid}
				
				action {
					index {
						common {
							showProducts = {$plugin.tx_hypestore.settings.view.category.action.index.common.showProducts}
							showSubcategories = {$plugin.tx_hypestore.settings.view.category.action.index.common.showSubcategories}
						}
						
						field {
							images {
								maxWidth = {$plugin.tx_hypestore.settings.view.category.action.index.field.images.maxWidth}
								maxHeight = {$plugin.tx_hypestore.settings.view.category.action.index.field.images.maxHeight}
							}
						}
						
						object {
							category {
								field {
									images {
										maxWidth = {$plugin.tx_hypestore.settings.view.category.action.index.object.category.field.images.maxWidth}
										maxHeight = {$plugin.tx_hypestore.settings.view.category.action.index.object.category.field.images.maxHeight}
									}
								}
							}
							
							product {
								field {
									images {
										maxWidth = {$plugin.tx_hypestore.settings.view.category.action.index.object.product.field.images.maxWidth}
										maxHeight = {$plugin.tx_hypestore.settings.view.category.action.index.object.product.field.images.maxHeight}
									}
								}
							}
						}
					}
					
					list {
						common {
							showProducts = {$plugin.tx_hypestore.settings.view.category.action.list.common.showProducts}
							showSubcategories = {$plugin.tx_hypestore.settings.view.category.action.list.common.showSubcategories}
						}
						
						field {
							images {
								maxWidth = {$plugin.tx_hypestore.settings.view.category.action.list.field.images.maxWidth}
								maxHeight = {$plugin.tx_hypestore.settings.view.category.action.list.field.images.maxHeight}
							}
						}
						
						object {
							category {
								field {
									images {
										maxWidth = {$plugin.tx_hypestore.settings.view.category.action.list.object.category.field.images.maxWidth}
										maxHeight = {$plugin.tx_hypestore.settings.view.category.action.list.object.category.field.images.maxHeight}
									}
								}
							}
							
							product {
								field {
									images {
										maxWidth = {$plugin.tx_hypestore.settings.view.category.action.list.object.product.field.images.maxWidth}
										maxHeight = {$plugin.tx_hypestore.settings.view.category.action.list.object.category.field.images.maxHeight}
									}
								}
							}
						}
					}
				}
			}
			
			product {
				pid = {$plugin.tx_hypestore.settings.view.product.pid}
				
				action {
					index {
						field {
							images {
								maxWidth = {$plugin.tx_hypestore.settings.view.product.action.index.field.images.maxWidth}
								maxHeight = {$plugin.tx_hypestore.settings.view.product.action.index.field.images.maxHeight}
							}
						}
						
						object {
							category {
								field {
									images {
										maxWidth = {$plugin.tx_hypestore.settings.view.product.action.index.object.category.field.images.maxWidth}
										maxHeight = {$plugin.tx_hypestore.settings.view.product.action.index.object.category.field.images.maxHeight}
									}
								}
							}
							
							product {
								field {
									images {
										maxWidth = {$plugin.tx_hypestore.settings.view.product.action.index.object.product.field.images.maxWidth}
										maxHeight = {$plugin.tx_hypestore.settings.view.product.action.index.object.product.field.images.maxHeight}
									}
								}
							}
						}
					}
				}
			}
			
			cart {
				pid = {$plugin.tx_hypestore.settings.view.cart.pid}
				
				common {
					
				}
				
				action {
					
				}
			}
			
			checkout {
				pid = {$plugin.tx_hypestore.settings.view.checkout.pid}
				
				common {
					
				}
				
				action {
					
				}
			}
		}
	}
	
	template {
		menu = HMENU
		menu {
			special = userfunction
			special {
				userFunc = user_hypestore_menu->menu
				pid = {$plugin.tx_hypestore.settings.view.category.pid}
				expAll = {$plugin.tx_hypestore.settings.common.navigation.expAll}
			}
			
			1 = TMENU
			1 {
				itemArrayProcFunc = user_hypestore_menu->item
			}
		}
		
		path = HMENU
		path {
			special = userfunction
			special {
				userFunc = user_hypestore_menu->path
				pid = {$plugin.tx_hypestore.settings.view.category.pid}
				expAll = {$plugin.tx_hypestore.settings.common.navigation.expAll}
			}
			
			1 = TMENU
			1 {
				itemArrayProcFunc = user_hypestore_menu->item
			}
		}
	}
}